<!DOCTYPE html>
<html>
<style>
@import url('https://fonts.googleapis.com/css2?family=Oswald:wght@700&display=swap');
</style>
<br>
<br>
<br>
<div class="cnv_timer" style="text-align: center; font-size: 50px; font-family: 'Oswald';" data-time-end="2022-01-01 00:00:00" data-message="🎄 НОВЫЙ ГОД БУДИТ! 🎄"></div>
<script>
var snv_timer = function() {
  var b_timer = document.querySelectorAll('.cnv_timer');
  var d_format = function(v) {
    return parseInt(v) <= 9 ? '0'+v : v;
  }
  var update = function() {
    for(i=0; i < b_timer.length; i++)
    {
      var b_el = b_timer[i];
      var time_end = new Date(b_el.dataset.timeEnd.replace(/(\d+)-(\d+)-(\d+)/, '$2/$3/$1'));
      var time_real = (new Date());
      if (time_end < time_real)
      {
        b_el.innerHTML = b_el.dataset.message;
      }
      else
      {
        var s = time_end.getTime() - time_real.getTime();
        s = parseInt(s / 1000);
        var d = parseInt(s / 86400);
        s -= d * 86400;
        var h = parseInt(s / 3600);
        s -= h * 3600;
        var m = parseInt(s / 60);
        s -= m * 60;
        b_el.innerHTML = d + ' д. ' + d_format(h) + ':' + d_format(m) + ':' + d_format(s);
      }
    }
    setTimeout(function() { if (b_timer.length > 0) update(); }, 1000);
  }
  update();
}
snv_timer();
</script>
</div>
</html>
